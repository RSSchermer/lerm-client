<header class="page-header">
  <h2>Edit Rule</h2>

  <nav class="page-nav-links">
    {{#link-to 'projects.show.rules.show' rule.project rule class='btn btn-default back-link'}}
      {{fa-icon "chevron-left"}} Back
    {{/link-to}}
  </nav>
</header>

<form class="rule-edit-form form-horizontal" {{action (perform saveRuleTask) on="submit"}}>
  <div class="form-group {{if rule.errors.label "has-error"}}">
    <label class="control-label col-sm-2" for="label">Label</label>

    <div class="col-sm-10">
      {{input id="label" class="form-control" value=rule.label placeholder="Enter a label..."}}
      {{#each rule.errors.label as |error|}}
        <p class="help-block"><em>{{error.message}}</em></p>
      {{/each}}
    </div>
  </div>

  <div class="form-group {{if rule.errors.source "has-error"}}">
    <label class="control-label col-sm-2" for="source">Source</label>

    <div class="col-sm-10">
      {{input id="source" class="form-control" value=rule.source placeholder="Enter the rule's source..."}}
      {{#each rule.errors.source as |error|}}
        <p class="help-block"><em>{{error.message}}</em></p>
      {{/each}}
    </div>
  </div>

  <div class="form-group {{if rule.errors.originalText "has-error"}}">
    <label class="control-label col-sm-2" for="original_text">Original text</label>

    <div class="col-sm-10">
      {{textarea id="original_text" class="form-control" value=rule.originalText
      placeholder="Enter the original rule text..."}}
      {{#each rule.errors.originalText as |error|}}
        <p class="help-block"><em>{{error.message}}</em></p>
      {{/each}}
    </div>
  </div>

  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      {{#spinner-button type="submit" class="btn btn-primary" isSpinning=saveRuleTask.isRunning}}
        {{fa-icon "save"}} Save
      {{/spinner-button}}
    </div>
  </div>
</form>
